<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architecture - Marengo Decor Project</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Inter', sans-serif;
            line-height: 1.6;
            color: #2d3748;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f7fafc;
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid #e2e8f0;
        }
        h1 {
            color: #1a202c;
            text-align: center;
            margin-bottom: 40px;
            font-size: 2.25rem;
            font-weight: 700;
            letter-spacing: -0.025em;
        }
        h2 {
            color: #2d3748;
            border-bottom: 2px solid #4299e1;
            padding-bottom: 8px;
            margin-top: 48px;
            margin-bottom: 24px;
            font-size: 1.5rem;
            font-weight: 600;
        }
        h3 {
            color: #4a5568;
            margin-top: 32px;
            margin-bottom: 16px;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .mermaid {
            text-align: center;
            margin: 32px 0;
            background: #f9fafb;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
        }
        th, td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        th {
            background: #4a5568;
            color: white;
            font-weight: 600;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        tr:hover {
            background-color: #f7fafc;
        }
        tr:last-child td {
            border-bottom: none;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin: 32px 0;
        }
        .feature-card {
            background: #4a5568;
            color: white;
            padding: 24px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border: 1px solid #718096;
        }
        .feature-card h3 {
            color: white;
            margin-top: 0;
            margin-bottom: 12px;
            font-size: 1.125rem;
        }
        .feature-card p {
            margin: 0;
            opacity: 0.9;
            line-height: 1.5;
        }
        .benefits {
            background: #f7fafc;
            padding: 32px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #48bb78;
        }
        .benefits ol {
            margin: 0;
            padding-left: 24px;
        }
        .benefits li {
            margin: 12px 0;
            font-weight: 500;
            line-height: 1.6;
        }
        .benefits li strong {
            color: #1a202c;
        }
        .section-intro {
            font-size: 1.125rem;
            color: #4a5568;
            margin-bottom: 24px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Architecture Overview - Marengo Decor Project</h1>
        <p class="section-intro">
            A modern, scalable Next.js application demonstrating enterprise-level architecture patterns and best practices.
        </p>
        
        <h2>Project Structure</h2>
        <div class="mermaid">
            graph TD
                A[marengo-decor-fe-arch-lab] --> B[ðŸ“ src/]
                A --> C[ðŸ“ e2e/]
                A --> D[ðŸ“ public/]
                A --> E[ðŸ“„ Config Files]
                
                %% Source Code Structure
                B --> B1[ðŸ“ app/]
                B --> B2[ðŸ“ components/]
                B --> B3[ðŸ“ data/]
                B --> B4[ðŸ“ lib/]
                
                %% App Router Structure
                B1 --> B1A[ðŸ“ api/]
                B1 --> B1B[ðŸ“ budget/]
                B1 --> B1C[ðŸ“ public/]
                B1 --> B1D[ðŸ“„ layout.tsx]
                B1 --> B1E[ðŸ“„ page.tsx]
                B1 --> B1F[ðŸ“„ globals.css]
                
                B1A --> B1A1[ðŸ“ calculate/]
                B1A1 --> B1A1A[ðŸ“„ route.ts]
                
                B1B --> B1B1[ðŸ“ budget/]
                B1B --> B1B2[ðŸ“„ layout.tsx]
                B1B1 --> B1B1A[ðŸ“„ page.tsx]
                
                B1C --> B1C1[ðŸ“ login/]
                B1C1 --> B1C1A[ðŸ“„ page.tsx]
                
                %% Components Structure
                B2 --> B2A[ðŸ“ ui/]
                B2A --> B2A1[ðŸ“„ button.tsx]
                B2A --> B2A2[ðŸ“„ card.tsx]
                B2A --> B2A3[ðŸ“„ input.tsx]
                B2A --> B2A4[ðŸ“„ select.tsx]
                
                %% Data Layer
                B3 --> B3A[ðŸ“„ materials.ts]
                
                %% Library Structure
                B4 --> B4A[ðŸ“ api/]
                B4 --> B4B[ðŸ“ hooks/]
                B4 --> B4C[ðŸ“ state/]
                B4 --> B4D[ðŸ“ types/]
                
                B4A --> B4A1[ðŸ“„ react-query-provider.tsx]
                B4B --> B4B1[ðŸ“„ useCalculateBudget.ts]
                B4C --> B4C1[ðŸ“„ budgetStore.ts]
                B4D --> B4D1[ðŸ“„ budget.ts]
                B4D --> B4D2[ðŸ“„ material.ts]
                
                %% E2E Testing Structure
                C --> C1[ðŸ“ fixtures/]
                C --> C2[ðŸ“ page-objects/]
                C --> C3[ðŸ“„ api-routes.spec.ts]
                C --> C4[ðŸ“„ budget-flow.spec.ts]
                C --> C5[ðŸ“„ login-flow.spec.ts]
                
                C1 --> C1A[ðŸ“„ test-data.ts]
                C2 --> C2A[ðŸ“„ budget-page.ts]
                C2 --> C2B[ðŸ“„ login-page.ts]
                
                %% Public Assets
                D --> D1[ðŸ“„ *.svg icons]
                
                %% Configuration Files
                E --> E1[ðŸ“„ package.json]
                E --> E2[ðŸ“„ tsconfig.json]
                E --> E3[ðŸ“„ next.config.ts]
                E --> E4[ðŸ“„ playwright.config.ts]
                E --> E5[ðŸ“„ tailwind.config.js]
                E --> E6[ðŸ“„ eslint.config.mjs]
                
                %% Styling
                classDef folder fill:#e1f5fe,stroke:#01579b,stroke-width:2px
                classDef file fill:#f3e5f5,stroke:#4a148c,stroke-width:1px
                classDef config fill:#fff3e0,stroke:#e65100,stroke-width:1px
                classDef test fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
                
                class A,B,C,D,B1,B2,B3,B4,B1A,B1B,B1C,B1A1,B1B1,B1C1,B2A,C1,C2,B4A,B4B,B4C,B4D folder
                class B1D,B1E,B1F,B1A1A,B1B2,B1B1A,B1C1A,B2A1,B2A2,B2A3,B2A4,B3A,B4A1,B4B1,B4C1,B4D1,B4D2,C1A,C2A,C2B,D1 file
                class E1,E2,E3,E4,E5,E6 config
                class C,C3,C4,C5 test
        </div>

        <h2>Architectural Patterns</h2>
        
        <h3>Next.js App Router Flow</h3>
        <div class="mermaid">
            graph LR
                A[Client Request] --> B[Next.js Router]
                B --> C{Route Type}
                C -->|/api/*| D[API Routes]
                C -->|/login| E[Public Pages]
                C -->|/budget| F[Protected Pages]
                
                D --> G[Server-side Logic]
                E --> H[SSR/Client Components]
                F --> I[SSR/Client Components]
                
                classDef api fill:#ffeb3b,stroke:#f57f17
                classDef public fill:#4caf50,stroke:#1b5e20
                classDef protected fill:#2196f3,stroke:#0d47a1
                
                class D,G api
                class E,H public
                class F,I protected
        </div>

        <h3>State Management Architecture</h3>
        <div class="mermaid">
            graph TD
                A[UI Components] --> B[Zustand Store]
                A --> C[React Query]
                
                B --> D[Client State]
                C --> E[Server State]
                
                D --> F[budgetStore.ts]
                E --> G[useCalculateBudget.ts]
                
                G --> H[API Routes]
                H --> I[Database/External APIs]
                
                classDef client fill:#e91e63,stroke:#ad1457
                classDef server fill:#009688,stroke:#004d40
                classDef api fill:#ff9800,stroke:#e65100
                
                class A,B,D,F client
                class C,E,G server
                class H,I api
        </div>

        <h3>Testing Strategy</h3>
        <div class="mermaid">
            graph TD
                A[Testing Pyramid] --> B[E2E Tests]
                A --> C[Integration Tests]
                A --> D[Unit Tests]
                
                B --> E[Playwright]
                E --> F[Page Object Model]
                E --> G[Test Fixtures]
                
                F --> H[budget-page.ts]
                F --> I[login-page.ts]
                G --> J[test-data.ts]
                
                B --> K[User Flows]
                K --> L[login-flow.spec.ts]
                K --> M[budget-flow.spec.ts]
                K --> N[api-routes.spec.ts]
                
                classDef e2e fill:#4caf50,stroke:#1b5e20
                classDef pattern fill:#2196f3,stroke:#0d47a1
                classDef flow fill:#ff9800,stroke:#e65100
                
                class B,E e2e
                class F,G,H,I,J pattern
                class K,L,M,N flow
        </div>

        <h2>Technology Stack</h2>
        <table>
            <thead>
                <tr>
                    <th>Layer</th>
                    <th>Technology</th>
                    <th>Responsibility</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Frontend</strong></td>
                    <td>React 19 + Next.js 16</td>
                    <td>SSR, Client Components, Routing</td>
                </tr>
                <tr>
                    <td><strong>State Management</strong></td>
                    <td>Zustand + React Query</td>
                    <td>Client State + Server State</td>
                </tr>
                <tr>
                    <td><strong>Styling</strong></td>
                    <td>Tailwind CSS</td>
                    <td>Utility-first CSS</td>
                </tr>
                <tr>
                    <td><strong>API</strong></td>
                    <td>Next.js API Routes</td>
                    <td>Backend logic, Data processing</td>
                </tr>
                <tr>
                    <td><strong>Testing</strong></td>
                    <td>Playwright</td>
                    <td>E2E testing, User flows</td>
                </tr>
                <tr>
                    <td><strong>Type Safety</strong></td>
                    <td>TypeScript 5+</td>
                    <td>Static type checking</td>
                </tr>
                <tr>
                    <td><strong>Build Tool</strong></td>
                    <td>pnpm</td>
                    <td>Package management</td>
                </tr>
            </tbody>
        </table>

        <h2>Key Features</h2>
        <div class="features">
            <div class="feature-card">
                <h3>App Router</h3>
                <p>Modern Next.js 16 structure with optimized routing</p>
            </div>
            <div class="feature-card">
                <h3>Server/Client Separation</h3>
                <p>Performance-optimized components</p>
            </div>
            <div class="feature-card">
                <h3>State Management</h3>
                <p>Zustand + React Query for efficient state handling</p>
            </div>
            <div class="feature-card">
                <h3>Type Safety</h3>
                <p>TypeScript throughout the project</p>
            </div>
            <div class="feature-card">
                <h3>Testing</h3>
                <p>Playwright with Page Object Model</p>
            </div>
            <div class="feature-card">
                <h3>Modern CSS</h3>
                <p>Tailwind CSS utility-first approach</p>
            </div>
        </div>

        <h2>Architecture Benefits</h2>
        <div class="benefits">
            <ol>
                <li><strong>Scalability:</strong> Modular and well-organized structure</li>
                <li><strong>Maintainability:</strong> Clear separation of concerns</li>
                <li><strong>Performance:</strong> SSR + Next.js 16 optimizations</li>
                <li><strong>Developer Experience:</strong> TypeScript + modern tooling</li>
                <li><strong>Quality Assurance:</strong> Comprehensive E2E testing</li>
                <li><strong>Industry Standards:</strong> Modern development best practices</li>
            </ol>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>